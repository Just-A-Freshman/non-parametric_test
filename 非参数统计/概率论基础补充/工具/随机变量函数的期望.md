要推导离散型随机变量 \( X \) 的矩母函数 \( \mathbb{E}(e^{tX}) \) 的两种期望定义式，核心是紧扣 **“\( Y = g(X) \) 的期望两种计算逻辑”**——本质是“按 \( X \) 的取值遍历”与“按 \( Y = e^{tX} \) 的取值遍历”的区别，前者不合并同值，后者合并 \( X \) 不同但 \( e^{tX} \) 相同的情况。


### 第一步：明确基础设定（离散型随机变量 \( X \) 的核心属性）
首先规范离散型随机变量 \( X \) 的基本定义，为后续推导铺垫：
- 设 \( X \) 是**离散型随机变量**，其所有**互异的可能取值**为可列集合 \( \mathcal{X} = \{x_1, x_2, \dots, x_n, \dots\} \)（“可列”指能与自然数一一对应，如整数集、有限集等）；
- 对每个取值 \( x_i \in \mathcal{X} \)，其概率为 \( p_X(x_i) = \mathbb{P}(X = x_i) \)，满足概率公理：\( \sum_{i=1}^{\infty} p_X(x_i) = 1 \)，且 \( p_X(x_i) \geq 0 \)；
- 矩母函数 \( \mathbb{E}(e^{tX}) \) 本质是 \( Y = g(X) \) 的期望，其中 \( g(X) = e^{tX} \)（\( t \) 是参数，需满足期望收敛条件）。


### 第二步：第一种计算式（按 \( X \) 的取值遍历，不合并同值）
对应你提到的 \( \mathbb{E}(Y) = \sum_{i=1}^{\infty} Y_i p(X_i) \)，核心逻辑是：**遍历 \( X \) 的每一个可能取值 \( x_i \)，计算该取值对应的 \( Y = e^{tX} \) 的值，再乘以 \( X \) 取 \( x_i \) 的概率，最后求和**。

具体推导：
1. 对 \( X \) 的每个可能取值 \( x_i \)，对应的 \( Y = e^{tX} \) 的值为 \( g(x_i) = e^{t x_i} \)；
2. 该值的“权重”是 \( X = x_i \) 的概率 \( p_X(x_i) \)（无需合并，因为按 \( X \) 的取值拆分）；
3. 按期望的定义（离散型），求和所有“值×权重”项，得到：

\[
\boxed{\mathbb{E}(e^{tX}) = \sum_{x_i \in \mathcal{X}} e^{t x_i} \cdot p_X(x_i)}
\]

- 说明：此式直接依赖 \( X \) 的取值和概率，每个项对应 \( X \) 的一个独立取值，即使存在不同 \( x_i \neq x_j \) 但 \( e^{t x_i} = e^{t x_j} \)（比如 \( t=0 \) 时所有 \( e^{t x_i}=1 \)），也仍按 \( X \) 的不同取值分别列项（后续会在第二种方法中合并）。


### 第三步：第二种计算式（按 \( Y = e^{tX} \) 的取值遍历，合并同值）
对应你提到的 \( \mathbb{E}(Y) = \sum_{j=1}^{\infty} Y_j p(Y_j) \)，核心逻辑是：**先找出 \( Y = e^{tX} \) 的所有互异可能取值，计算 \( Y \) 取每个值的概率（合并所有使 \( e^{tX}=y_j \) 的 \( X \) 取值的概率），再乘以 \( Y \) 的值，最后求和**。

具体推导：
1. 定义 \( Y = e^{tX} \)，其所有**互异的可能取值**为可列集合 \( \mathcal{Y} = \{y_1, y_2, \dots, y_m, \dots\} \)（因 \( X \) 取值可列，\( Y \) 取值最多可列）；
2. 计算 \( Y \) 取 \( y_j \) 的概率 \( p_Y(y_j) \)：它是所有满足 \( e^{t x_i} = y_j \) 的 \( X \) 取值 \( x_i \) 的概率之和，即：
   \[
   p_Y(y_j) = \mathbb{P}(Y = y_j) = \mathbb{P}(e^{tX} = y_j) = \sum_{\substack{x_i \in \mathcal{X} \\ e^{t x_i} = y_j}} p_X(x_i)
   \]
   （比如若 \( x_1=1, x_2=-1 \) 且 \( t=\ln 2 \)，则 \( e^{t x_1}=2, e^{t x_2}=1/2 \)，若 \( t=0 \) 则 \( e^{t x_1}=e^{t x_2}=1 \)，此时 \( p_Y(1) = p_X(1) + p_X(-1) \)）；
3. 按 \( Y \) 的期望定义（离散型），求和所有“\( Y \) 的值×\( Y \) 取该值的概率”项，得到：

\[
\boxed{\mathbb{E}(e^{tX}) = \sum_{y_j \in \mathcal{Y}} y_j \cdot p_Y(y_j) = \sum_{y_j \in \mathcal{Y}} y_j \cdot \left( \sum_{\substack{x_i \in \mathcal{X} \\ e^{t x_i} = y_j}} p_X(x_i) \right)}
\]


### 第四步：两种表达式的等价性（为什么结果相同？）
两种表达式看似形式不同，但本质是**“求和顺序的交换”**，在离散型期望收敛（即 \( \sum_{x_i \in \mathcal{X}} |e^{t x_i}| p_X(x_i) < \infty \)，矩母函数存在的条件）的前提下，可列求和满足“交换律”，因此两种表达式的结果完全相等。

举个具体例子验证：
- 设 \( X \) 的取值为 \( \mathcal{X} = \{1, -1\} \)，概率 \( p_X(1) = 1/2 \)，\( p_X(-1) = 1/2 \)，取 \( t = \ln 2 \)（则 \( e^{t \cdot 1}=2 \)，\( e^{t \cdot (-1)}=1/2 \)）。
  1. 第一种表达式：\( \mathbb{E}(e^{tX}) = e^{t \cdot 1} p_X(1) + e^{t \cdot (-1)} p_X(-1) = 2 \times 1/2 + (1/2) \times 1/2 = 1 + 1/4 = 5/4 \)；
  2. 第二种表达式：\( Y = e^{tX} \) 的取值 \( \mathcal{Y} = \{2, 1/2\} \)，概率 \( p_Y(2)=1/2 \)，\( p_Y(1/2)=1/2 \)，因此 \( \mathbb{E}(e^{tX}) = 2 \times 1/2 + (1/2) \times 1/2 = 5/4 \)，与第一种结果一致。


### 最终总结：\( \mathbb{E}(e^{tX}) \) 的两种定义式
| 计算逻辑                | 表达式                                                                 |
|-------------------------|------------------------------------------------------------------------|
| 按 \( X \) 的取值遍历   | \( \mathbb{E}(e^{tX}) = \sum_{x_i \in \mathcal{X}} e^{t x_i} \cdot p_X(x_i) \) |
| 按 \( Y = e^{tX} \) 取值遍历 | \( \mathbb{E}(e^{tX}) = \sum_{y_j \in \mathcal{Y}} y_j \cdot \left( \sum_{\substack{x_i \in \mathcal{X} \\ e^{t x_i} = y_j}} p_X(x_i) \right) \) |

其中：
- \( \mathcal{X} \) 是 \( X \) 的所有互异可能取值集合，\( p_X(x_i) = \mathbb{P}(X = x_i) \)；
- \( \mathcal{Y} \) 是 \( Y = e^{tX} \) 的所有互异可能取值集合，\( p_Y(y_j) = \mathbb{P}(Y = y_j) \)。